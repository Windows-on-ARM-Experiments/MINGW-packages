--- a/binutils/dlltool.c
+++ b/binutils/dlltool.c
@@ -4069,7 +4070,7 @@ main (int ac, char **av)
     {
       /* If possible use a deterministic prefix.  */
       const char *input = imp_name ? imp_name : delayimp_name;
-      if (input && strlen (input) + 2 <= NAME_MAX)
+      if (input && strlen (input) + 2 <= 255)
 	{
 	  tmp_prefix = xmalloc (strlen (input) + 2);
 	  sprintf (tmp_prefix, "%s_", input);
--- a/libiberty/getopt1.c
+++ b/libiberty/getopt1.c
@@ -33,7 +33,7 @@
 
 #include <stdio.h>
 
-#include "getopt.h"
+#include "../include/getopt.h"
 
 /* Comment out all this code if we are using the GNU C Library, and are not
    actually compiling the library itself.  This code is part of the GNU C
--- a/libiberty/setenv.c
+++ b/libiberty/setenv.c
@@ -133,7 +133,7 @@ setenv (const char *name, const char *value, int replace)
 
       new_environ[size + 1] = NULL;
 
-      last_environ = __environ = new_environ;
+      last_environ = new_environ;
     }
   else if (replace)
     {
--- a/gnulib/import/setenv.c
+++ b/gnulib/import/setenv.c
@@ -219,7 +219,7 @@ __add_to_environ (const char *name, const char *value, const char *combined,
 
       new_environ[size + 1] = NULL;
 
-      last_environ = __environ = new_environ;
+      last_environ = new_environ;
     }
   else if (replace)
     {
@@ -310,13 +310,9 @@ clearenv (void)
   if (__environ == last_environ && __environ != NULL)
     {
       /* We allocated this environment so we can free it.  */
-      free (__environ);
       last_environ = NULL;
     }
 
-  /* Clear the environment pointer removes the whole environment.  */
-  __environ = NULL;
-
   UNLOCK;
 
   return 0;
--- a/gas/doc/as.texi
+++ b/gas/doc/as.texi
@@ -12,7 +12,7 @@
 @setfilename as.info
 @c ---config---
 @macro gcctabopt{body}
-@code{\body\}
+@code \body\
 @end macro
 @c defaults, config file may override:
 @set have-stabs
